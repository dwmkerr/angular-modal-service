!function(e){function o(l){if(n[l])return n[l].exports;var r=n[l]={exports:{},id:l,loaded:!1};return e[l].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var n={};o.m=e,o.c=n,o.p="",o(0)}([function(e,o){"use strict";angular.module("angularModalService",[]).factory("ModalService",["$animate","$document","$compile","$controller","$http","$rootScope","$q","$templateRequest","$timeout",function(e,o,n,l,r,t,s,c,a){function u(){var r=this;r.openModals=[];var u=function(e,o){var n=s.defer();return e?n.resolve(e):o?c(o,!0).then(function(e){n.resolve(e)},function(e){n.reject(e)}):n.reject("No template or templateUrl has been specified."),n.promise},i=function(o,n){var l=o.children();return l.length>0?e.enter(n,o,l[l.length-1]):e.enter(n,o)};r.closeModals=function(e,o){for(;r.openModals.length;)r.openModals[0].close(e,o),r.openModals.splice(0,1)},r.showModal=function(c){var p=angular.element(o[0].body),d=s.defer();return c.controller?(u(c.template,c.templateUrl).then(function(o){function u(o){h.resolve(o),c.bodyClass&&p[0].classList.remove(c.bodyClass),e.leave(y).then(function(){$.resolve(o),v.$destroy();for(var e=0;e<r.openModals.length;e++)if(r.openModals[e].modal===m){r.openModals.splice(e,1);break}M.close=null,d=null,h=null,m=null,M=null,y=null,v=null}),!!f&&f()}var f,m={},v=(c.scope||t).$new();!c.hasOwnProperty("closeOn")&&(c.closeOn="$locationChangeSuccess"),!1!==c.closeOn&&(f=t.$on(c.closeOn,u));var h=s.defer(),$=s.defer(),M={$scope:v,close:function(e,o){"function"==typeof c.preClose&&c.preClose(m,e,o),void 0!==o&&null!==o||(o=0),a(function(){u(e)},o)}};c.inputs&&angular.extend(M,c.inputs);var g=n(o),y=g(v);M.$element=y;var b=v[c.controllerAs],x=l(c.controller,M,!1,c.controllerAs);c.controllerAs&&b&&angular.extend(x,b),c.appendElement?i(c.appendElement,y):i(p,y),c.bodyClass&&p[0].classList.add(c.bodyClass),m.controller=x,m.scope=v,m.element=y,m.close=h.promise,m.closed=$.promise,d.resolve(m),r.openModals.push({modal:m,close:M.close})}).then(null,function(e){d.reject(e)}),d.promise):(d.reject("No controller has been specified."),d.promise)}}return new u}])}]);
//# sourceMappingURL=./dst/angular-modal-service.min.js.map